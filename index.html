<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Web ƒêa NƒÉng (beta)</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      color: gray;
      min-height: 100vh;
      overflow-x: hidden;
    }
    #bgVideo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -1;
      opacity: 0.75;
      pointer-events: none;
      filter: brightness(1.1) saturate(1.1);
      transition: opacity 1s ease;
    }
    .toggle-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 999;
      background-color: rgba(0,0,0,0.5);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      cursor: pointer;
      font-size: 16px;
    }
    .navbar {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 12px 24px;
      border-radius: 16px;
      max-width: 90%;
      margin: 20px auto;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .webcuatoi {
      font-size: 42px;
      color: #ffffff;
      text-shadow: 2px 2px 6px rgb(255, 255, 255);
      margin-bottom: 10px;
    }
    .creatby {
      font-size: 12px;
      color: darksalmon;
      margin-bottom: 6px;
    }
    .search-container {
      position: relative;
      width: 98%;
      max-width: 400px;
      margin-top: 10px;
    }
    #tuKhoa {
      width: 100%;
      padding: 10px 16px;
      border-radius: 20px;
      border: none;
      font-size: 16px;
    }
    .suggestions-box {
      position: absolute;
      top: 42px;
      width: 100%;
      background: white;
      color: black;
      border-radius: 0 0 8px 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      max-height: 200px;
      overflow-y: auto;
      display: none;
      list-style: none;
      margin: 0;
      padding: 0;
      z-index: 10;
    }
    .suggestions-box li { padding: 10px; cursor: pointer; }
    .suggestions-box li:hover { background-color: #f0f0f0; }
    .container {
      max-width: 960px;
      margin: auto;
      padding: 40px 20px;
      text-align: center;
    }
    .welcome { font-size: 42px; margin-bottom: 20px; color: black; }
    .button-group {
      display: flex; flex-wrap: wrap; justify-content: center; gap: 16px; margin: 30px 0;
    }
    .button-group button {
      padding: 10px 20px; font-size: 16px; background-color: #007bff;
      border: none; border-radius: 8px; color: white; cursor: pointer;
    }
    .button-group button:hover { background-color: #0056b3; }
    .shortcut-creator {
      margin-top: 30px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;
    }
    .shortcut-creator input {
      padding: 10px; font-size: 14px; border-radius: 6px; border: none; width: 200px;
    }
    .shortcut-creator button {
      padding: 10px 20px; font-size: 14px; background-color: #28a745; color: white;
      border: none; border-radius: 8px; cursor: pointer;
    }
    .shortcut-creator button:hover { background-color: #218838; }
    #shortcuts { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 20px; }
    .shortcut-item { display: flex; align-items: center; gap: 6px; }
    .shortcut-item button {
      padding: 8px 14px; font-size: 14px; background-color: #007bff; color: white;
      border: none; border-radius: 6px; cursor: pointer;
    }
    .shortcut-item button:hover { background-color: #0056b3; }
    .delete-btn { cursor: pointer; color: red; font-size: 18px; }
    .widgets {
      position: fixed; bottom: 20px; right: 20px; display: flex; gap: 10px;
      background-color: rgba(255,255,255,0.08); padding: 10px; border-radius: 12px;
      backdrop-filter: blur(6px); z-index: 100;
    }
    .widget-item {
      padding: 10px 12px; border-radius: 8px; font-size: 18px; cursor: pointer;
      background: rgba(255,255,255,0.1);
    }
    .widget-item:hover { background: rgba(255,255,255,0.3); }
    .bg-menu {
      position: fixed; bottom: 70px; right: 20px; background: rgba(0,0,0,0.8);
      padding: 15px; border-radius: 12px; display: none; flex-direction: column;
      gap: 10px; color: white; width: 260px; z-index: 9999;
    }
    .bg-menu input { padding: 8px; border-radius: 6px; border: none; width: 100%; }
    .bg-menu button { padding: 8px 12px; border: none; border-radius: 8px; background: #00ccff; color: white; cursor: pointer; }
    .bg-menu button:hover { background: #0099cc; }
    .preset-bg { display: flex; gap: 6px; flex-wrap: wrap; }
  </style>
</head>
<body>
  <video autoplay muted loop id="bgVideo"></video>
  <div id="yt-bg"></div>

  <button class="toggle-btn" onclick="toggleVideo()">·∫®n/Hi·ªán n·ªÅn</button>

  <!-- NAVBAR -->
  <div class="navbar">
    <h1 class="webcuatoi">WEB ƒêA NƒÇNG (BETA)</h1>
    <h1 class="creatby">ƒê∆∞·ª£c l√†m b·ªüi Anh Ki·ªát</h1>
    <h1 class="creatby">Gmail: anhkietson3@gmail.com</h1>
    <div class="search-container">
      <input type="text" id="tuKhoa" placeholder="T√¨m ki·∫øm v·ªõi Google..."
        oninput="goiYTuKhoa()" onkeydown="return xuLyPhim(event)">
      <ul id="suggestions" class="suggestions-box"></ul>
    </div>
  </div>

  <!-- SHORTCUT -->
  <div class="shortcut-creator">
    <input type="text" id="shortcutName" placeholder="T√™n l·ªëi t·∫Øt">
    <input type="url" id="shortcutURL" placeholder="ƒê∆∞·ªùng d·∫´n (URL)">
    <button onclick="addShortcut()">‚ûï Th√™m l·ªëi t·∫Øt</button>
  </div>
  <div id="shortcuts" class="button-group"></div>

  <!-- MENU ƒê·ªîI N·ªÄN -->
  <div id="bgMenu" class="bg-menu">
    <h4>üé® Tu·ª≥ ch·ªânh n·ªÅn</h4>
    <input type="url" id="bgUrl" placeholder="D√°n link ·∫£nh / video..." />
    <button onclick="setCustomBg()">√Åp d·ª•ng</button>
    <input type="file" id="bgFile" accept="image/*,video/mp4" onchange="uploadBg(event)" />
    <div class="preset-bg">
      <button onclick="setBg('https://i.pinimg.com/1200x/a2/fe/21/a2fe21da9ce7d1698f5b48cdb506c853.jpg')">·∫¢nh 1</button>
      <button onclick="setBg('https://media.giphy.com/media/ICOgUNjpvO0PC/giphy.gif')">GIF</button>
      <button onclick="setBg('https://www.w3schools.com/html/mov_bbb.mp4')">MP4</button>
      <button onclick="setBg('https://youtu.be/qAZVnSc0IpI')">YouTube</button>
    </div>
    <button onclick="resetBg()" style="background:red">‚ùå Reset</button>
  </div>
    <!-- AI Widget -->
<div id="aiBox" style="position:fixed; bottom:80px; left:20px; background:rgba(0,0,0,0.9); color:white; padding:15px; border-radius:12px; width:300px; display:none; flex-direction:column; gap:10px; z-index:9999;">
  <h4>ü§ñ H·ªèi AI</h4>
  <textarea id="aiInput" rows="2" placeholder="Nh·∫≠p c√¢u h·ªèi..." style="width:100%; border-radius:6px; padding:6px;"></textarea>
  <button onclick="askAI()" style="padding:6px; border:none; border-radius:6px; background:#00ccff; color:white;">G·ª≠i</button>
  <div id="aiAnswer" style="margin-top:10px; font-size:14px; min-height:30px;"></div>
</div>

    <!-- Update Log Box -->
<div id="updateLog" style="position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  background:rgba(0,0,0,0.9); color:white; padding:20px; border-radius:12px; width:400px;
  max-height:70vh; overflow-y:auto; display:none; z-index:10000;">
  <h3>üìú Update Log</h3>
  <div id="updateContent"></div>
  <button onclick="toggleUpdateLog()" style="margin-top:10px; padding:6px 12px; background:red; border:none; border-radius:6px; color:white;">ƒê√≥ng</button>
</div>

  <!-- WIDGETS -->
  <div class="widgets">
    <div class="widget-item" onclick="window.location.href='https://myaccount.google.com/'">‚öôÔ∏è</div>
    <div class="widget-item" onclick="window.location.href='https://mail.google.com'">üì®</div>
    <div class="widget-item" onclick="window.location.href='https://www.youtube.com'">üîî</div>
    <div class="widget-item" onclick="toggleBgMenu()">üé®</div>
    <div class="widget-item" onclick="toggleAI()">ü§ñ</div>
    <div class="widget-item" onclick="toggleUpdateLog()">üìú</div>
  </div>

  <!-- MAIN -->
  <div class="container">
    <h2 class="welcome">Ch√†o m·ª´ng ƒë·∫øn v·ªõi trang web!</h2>
    <div class="button-group">
      <button onclick="window.location.href='https://www.roblox.com'">üéÆ Roblox</button>
      <button onclick="window.location.href='https://www.youtube.com'">‚ñ∂Ô∏è YouTube</button>
      <button onclick="window.location.href='https://drive.google.com'">üìÅ Drive</button>
      <button onclick="window.location.href='https://chat.openai.com'">ü§ñ ChatGPT</button>
      <button onclick="window.location.href='https://translate.google.com'">üåê Google D·ªãch</button>
      <button onclick="window.location.href='https://thptmyxuyen.edu.vn'">üéì Web tr∆∞·ªùng</button>
      <button onclick="window.location.href='https://vtv.vn/'">k√™nh vi·ªÖn th√¥ng VN</button>
    </div>
  </div>

<script>
// =================== SEARCH ===================
const danhSachGoiY=["Roblox","Robux mi·ªÖn ph√≠","Blue Archive","Game AI","Tin t·ª©c c√¥ng ngh·ªá","Genshin Impact","YouTube","Google D·ªãch","ChatGPT"];
function goiYTuKhoa(){
  const input=document.getElementById("tuKhoa"); const list=document.getElementById("suggestions");
  const tuKhoa=input.value.toLowerCase().trim(); list.innerHTML="";
  if(!tuKhoa){list.style.display="none";return;}
  const ketQua=danhSachGoiY.filter(g=>g.toLowerCase().includes(tuKhoa));
  if(!ketQua.length){list.style.display="none";return;}
  ketQua.forEach(k=>{const li=document.createElement("li"); li.textContent=k; li.onclick=()=>{input.value=k; list.innerHTML=""; timKiemGoogle();}; list.appendChild(li);});
  list.style.display="block";
}
function xuLyPhim(e){if(e.key==="Enter"){timKiemGoogle();return false;}return true;}
function timKiemGoogle(){const tuKhoa=document.getElementById("tuKhoa").value.trim(); if(tuKhoa){window.open("https://www.google.com/search?q="+encodeURIComponent(tuKhoa),"_blank");} document.getElementById("suggestions").style.display="none"; return false;}

// =================== SHORTCUT ===================
let shortcuts=JSON.parse(localStorage.getItem("shortcuts")||"[]");
function addShortcut(){const name=document.getElementById("shortcutName").value.trim(); const url=document.getElementById("shortcutURL").value.trim(); if(!name||!url){alert("Nh·∫≠p ƒë·ªß t√™n + link!");return;} shortcuts.push({name,url}); localStorage.setItem("shortcuts",JSON.stringify(shortcuts)); renderShortcuts(); document.getElementById("shortcutName").value=""; document.getElementById("shortcutURL").value="";}
function deleteShortcut(i){if(confirm("Xo√° l·ªëi t·∫Øt?")){shortcuts.splice(i,1); localStorage.setItem("shortcuts",JSON.stringify(shortcuts)); renderShortcuts();}}
function renderShortcuts(){const c=document.getElementById("shortcuts"); c.innerHTML=""; shortcuts.forEach((s,i)=>{const w=document.createElement("div"); w.className="shortcut-item"; const b=document.createElement("button"); b.textContent=s.name; b.onclick=()=>window.open(s.url,"_blank"); const d=document.createElement("span"); d.className="delete-btn"; d.textContent="‚ùå"; d.onclick=()=>deleteShortcut(i); w.appendChild(b); w.appendChild(d); c.appendChild(w);});}
document.addEventListener("DOMContentLoaded",renderShortcuts);

// =================== BACKGROUND ===================
function toggleVideo(){const v=document.getElementById("bgVideo"); v.style.display=v.style.display==="none"?"block":"none";}
function toggleBgMenu(){const m=document.getElementById("bgMenu"); m.style.display=m.style.display==="flex"?"none":"flex";}

function setBg(url){applyBg(url); saveBg(url);}
function setCustomBg(){const url=document.getElementById("bgUrl").value.trim(); if(!url) return; applyBg(url); saveBg(url);}
function resetBg(){clearBg(); location.reload();}

// ========== IndexedDB ƒë·ªÉ l∆∞u n·ªÅn l·ªõn ==========
let db;
const request=indexedDB.open("bgDB",1);
request.onupgradeneeded=e=>{db=e.target.result; db.createObjectStore("bg",{keyPath:"id"});}
request.onsuccess=e=>{db=e.target.result; loadBg();}
function saveBg(data){if(!db) return; const tx=db.transaction("bg","readwrite"); tx.objectStore("bg").put({id:1,url:data});}
function loadBg(){if(!db) return; const tx=db.transaction("bg","readonly"); const req=tx.objectStore("bg").get(1); req.onsuccess=()=>{if(req.result) applyBg(req.result.url);};}
function clearBg(){if(!db) return; const tx=db.transaction("bg","readwrite"); tx.objectStore("bg").delete(1);}

function uploadBg(e){const f=e.target.files[0]; if(!f) return; const r=new FileReader(); r.onload=function(ev){const url=ev.target.result; applyBg(url); saveBg(url);}; r.readAsDataURL(f);}

function applyBg(url){const v=document.getElementById("bgVideo"); const yt=document.getElementById("yt-bg");
  if(url.includes("youtube.com")||url.includes("youtu.be")){v.style.display="none"; document.body.style.backgroundImage=""; yt.innerHTML=`<iframe width="100%" height="100%" src="https://www.youtube.com/embed/${extractYoutubeId(url)}?autoplay=1&mute=1&loop=1&playlist=${extractYoutubeId(url)}&controls=0&modestbranding=1" frameborder="0" allow="autoplay; fullscreen" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;pointer-events:none;"></iframe>`;}
  else if(url.endsWith(".mp4")||url.startsWith("data:video")){yt.innerHTML=""; v.src=url; v.style.display="block"; document.body.style.backgroundImage="";}
  else if(url.match(/\.(jpg|jpeg|png|gif)$/i) || url.startsWith("data:image")){yt.innerHTML=""; v.style.display="none"; document.body.style.backgroundImage=`url(${url})`; document.body.style.backgroundSize="cover"; document.body.style.backgroundPosition="center"; document.body.style.backgroundAttachment="fixed";}
}
function extractYoutubeId(url){const regExp=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/; const match=url.match(regExp); return (match&&match[2].length===11)?match[2]:null;}

//-------AI
const OPENAI_API_KEY = "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"; 

function toggleAI(){
  const box=document.getElementById("aiBox");
  box.style.display=box.style.display==="flex"?"none":"flex";
}

async function askAI(){
  const q=document.getElementById("aiInput").value.trim();
  const a=document.getElementById("aiAnswer");
  if(!q){a.innerHTML="‚ùå B·∫°n ch∆∞a nh·∫≠p c√¢u h·ªèi."; return;}
  a.innerHTML="‚è≥ ƒêang suy nghƒ©...";

  try {
    const response = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${OPENAI_API_KEY}`
      },
      body: JSON.stringify({
        model: "gpt-3.5-turbo",
        messages: [{role: "user", content: q}],
        max_tokens: 150
      })
    });
    const data = await response.json();
    if(data.choices && data.choices[0]){
      a.innerHTML="üí° "+data.choices[0].message.content;
    } else {
      a.innerHTML="‚ö†Ô∏è Kh√¥ng nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi t·ª´ AI.";
    }
  } catch(err){
    a.innerHTML="‚ùå L·ªói: "+err.message;
  }
}

//======UPDATELOG
const updateData = [
  {version: "v1.0", date: "2025-07-18", desc: "üöÄ ra m·∫Øt giao di·ªán + t√¨m ki·∫øm gg + shortcuts"},
  {version: "v1.1.2", date: "2025-09-04", desc: "üé® Th√™m ch·ª©c nƒÉng ƒë·ªïi n·ªÅn (·∫£nh, gif, video, YouTube)."},
  {version: "v1.3", date: "2025-09-05", desc: "ü§ñ Th√™m widget h·ªèi AI (b·∫£n d√πng API OpenAI)."},
  {version: "v1.31", date: "2025-09-05", desc: "üìù thay ƒë·ªïi b·ªè ph·∫ßn b√°o tr√≠ t·∫°o th√†nh l·ªëi t·∫Øt vi·ªÖn th√¥ng Vi·ªát Nam."}
];

function toggleUpdateLog(){
  const box = document.getElementById("updateLog");
  if(box.style.display==="none" || !box.style.display){
    renderUpdateLog();
    box.style.display="block";
  } else {
    box.style.display="none";
  }
}

function renderUpdateLog(){
  const content=document.getElementById("updateContent");
  content.innerHTML="";
  updateData.forEach(u=>{
    content.innerHTML += `
      <div style="margin-bottom:12px;">
        <strong>${u.version}</strong> - <em>${u.date}</em><br>
        <span>${u.desc}</span>
      </div>
    `;
  });
}

</script>
</body>
</html>
